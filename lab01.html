<html>
<body>
<canvas id='lab01' height="500" width="500" style="border:1px solid"></canvas>
	<script>
		var canvas = document.getElementById('lab01');
		var ctx = canvas.getContext('2d');
		var flag = 0;		
		var j = 0;
		var r = 0;
		canvas.addEventListener('click', function(event) {
			if (flag == 0) {
				flag = 1;
			} else {
				flag = 0;
			}
			let anime = setInterval (function() {
				if (flag == 0) {
					clearInterval(anime);
					return;

				}
				if (flag == 1) {
					ctx.clearRect(0,0,canvas.width, canvas.height)
					for (var i=-50; i<50; i++) {
						ctx.translate(j%canvas.width, j%canvas.height);
						ctx.rotate(r);

						ctx.fillRect(0, i%canvas.height, 4, 4)
						ctx.fillRect(-50, -Math.abs(i)%canvas.height, 4, 4)
						ctx.fillRect(50, Math.abs(i)%canvas.height, 4, 4)
						ctx.fillRect(-50, 50-Math.abs(2*i/3)%canvas.height, 4, 4)
						ctx.fillRect(50, -50+Math.abs(2*i/3)%canvas.height, 4, 4)

						ctx.fillRect((i)%canvas.width, 0, 4, 4)
						ctx.fillRect(-Math.abs(i)%canvas.width, 50, 4, 4)
						ctx.fillRect(Math.abs(i)%canvas.width, -50, 4, 4)
						ctx.fillRect(50-Math.abs(2*i/3)%canvas.width, 50, 4, 4)
						ctx.fillRect(-50+Math.abs(2*i/3)%canvas.width, -50, 4, 4)

						ctx.setTransform(1, 0, 0, 1, 0, 0);
					}
					j+=2;
					r+=0.1;
				}
			},30);
			
		});			
	
	</script>		
</body>
</html>	